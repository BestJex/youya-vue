(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c3d70af"],{4934:function(t,e,s){},6378:function(t,e,s){"use strict";var a=s("4934"),i=s.n(a);i.a},e3a5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[2==t.type?s("div",[s("div",{staticClass:"address"},[t._e(),s("img",{attrs:{src:"img/icon-dingwei.png",alt:""}}),t._m(0),s("van-icon",{attrs:{name:"arrow",size:"15px",color:"#999"}})],1),s("div",{staticClass:"bar-10"})]):t._e(),s("div",{staticClass:"goods-item"},[s("img",{attrs:{src:t.goods.image,alt:""}}),s("div",{staticClass:"ml-10 flex flex-column flex-jus",staticStyle:{flex:"1"}},[s("div",{staticClass:"fz-15 c3"},[t._v(t._s(t.goods.title))]),s("div",{staticClass:"flex flex-jus flex-align-end"},[s("div",{staticClass:"fz-15 c3"},[t._v("¥"+t._s(t.goods.price))]),s("van-stepper",{attrs:{integer:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1)])]),s("van-cell",{attrs:{border:!1,title:"留言"}}),s("div",{staticClass:"plr-10"},[s("van-field",{attrs:{placeholder:"给卖家留言～～"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("div",{staticClass:"footer-bar"},[s("div",[s("span",{staticClass:"fz-15 c9"},[t._v("合计：")]),s("span",{staticClass:"fz-15 text-price"},[t._v("￥"+t._s(t.quantity*t.goods.price))])]),s("div",{staticClass:"btn-youya",on:{click:t.submit}},[t._v("提交订单")])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fz-15 ml-10",staticStyle:{width:"80%"}},[s("div",[t._v("熊娟 13445677888")]),s("div",{staticClass:"text-hide"},[t._v("中国浙江省宁波市江北区市民路98号4楼区市民路98号4楼")])])}],r=(s("96cf"),s("3b8d")),n={components:{},props:{},data:function(){return{value:1,message:"",type:"",goods_id:"",quantity:"",goods:{},order_id:""}},watch:{},computed:{},methods:{getGoods:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$toast.loading({message:"加载中..."}),t.next=3,axios.get("/mall/detail?id=".concat(this.goods_id));case 3:e=t.sent,s=e.code,a=e.data,i=e.message,0==s?(this.$toast.clear(),this.goods=a):this.$toast.fail(i);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],e.push({goods_id:this.goods_id,quantity:this.quantity}),this.$toast.loading({message:"提交中..."}),t.next=5,axios.post("/user/mall-order",{type:this.type,goods:JSON.stringify(e)});case 5:s=t.sent,a=s.code,i=s.data,r=s.message,0==a?(this.$toast.clear(),console.log(i),this.order_id=i.id,this.payed(i.id)):this.$toast.fail(r);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),payed:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var s,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$toast.loading({message:"支付中..."}),t.next=3,axios.post("/user/mall-order/payed",{order_id:e});case 3:s=t.sent,a=s.code,i=s.data,r=s.message,0==a?(this.$toast.clear(),console.log(i),this.$router.push({name:"goods_pay_feedback",query:{order_id:this.order_id}})):this.$toast.fail(r);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),pay:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var s,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$toast.loading({message:"支付中..."}),t.next=3,axios.post("/user/mall-order/pay",{order_id:e});case 3:s=t.sent,a=s.code,i=s.data,r=s.message,0==a?(this.$toast.clear(),console.log(i)):this.$toast.fail(r);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.type=this.$route.query.type,this.goods_id=this.$route.query.goods_id,this.quantity=this.$route.query.quantity,this.getGoods()},mounted:function(){}},o=n,c=(s("6378"),s("2877")),d=Object(c["a"])(o,a,i,!1,null,"32c5bdc7",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-1c3d70af.af5fbd19.js.map