(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72fdc12b"],{"1af6":function(t,e,a){var s=a("63b6");s(s.S,"Array",{isArray:a("9003")})},"20fd":function(t,e,a){"use strict";var s=a("d9f6"),i=a("aebd");t.exports=function(t,e,a){e in t?s.f(t,e,i(0,a)):t[e]=a}},5408:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-sticky",[a("van-tabs",{attrs:{"line-height":"2px","title-active-color":"#8DB9DF","title-inactive-color":"#999999",color:"#8DB9DF",sticky:!0},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{attrs:{title:"全部"}}),a("van-tab",{attrs:{title:"待付款"}}),a("van-tab",{attrs:{title:"待发货"}}),a("van-tab",{attrs:{title:"待收货"}}),a("van-tab",{attrs:{title:"已完成"}}),a("van-tab",{attrs:{title:"已退款"}}),a("van-tab",{attrs:{title:"已取消"}})],1)],1),a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.getList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("ul",{staticClass:"order-list"},t._l(t.list,(function(e,s){return a("li",{key:e.id,staticClass:"order-item",attrs:{title:e}},[a("div",{staticClass:"p-10 flex flex-jus"},[a("div",{staticClass:"fz-13 c9"},[t._v("订单号："+t._s(e.number))]),0==e.status?a("div",{staticClass:"fz-12 text-price"},[t._v("待付款")]):t._e(),1==e.status?a("div",{staticClass:"fz-12 text-price"},[t._v("待发货")]):t._e(),2==e.status?a("div",{staticClass:"fz-12 text-price"},[t._v("待收货")]):t._e(),3==e.status?a("div",{staticClass:"fz-12 text-price"},[t._v("已完成")]):t._e(),4==e.status?a("div",{staticClass:"fz-12 text-price"},[t._v("已退款")]):t._e(),5==e.status?a("div",{staticClass:"fz-12 c9"},[t._v("已取消")]):t._e()]),t._l(e.with_detail,(function(s){return a("router-link",{key:e.id,attrs:{to:{name:"order_detail",query:{id:e.id}}}},[a("div",{staticClass:"flex p-10"},[a("img",{staticClass:"thumb",attrs:{src:s.goods_image,alt:""}}),a("div",{staticClass:"ml-10 flex flex-column flex-jus",staticStyle:{flex:"1"}},[a("div",{staticClass:"fz-15 c3 text-hide2"},[t._v(t._s(s.goods_title))]),a("div",{staticClass:"flex flex-jus"},[a("div",{staticClass:"fz-15 c3"},[t._v("¥"+t._s(s.goods_price))]),a("div",{staticClass:"fz-14 c9"},[t._v("x"+t._s(s.quantity))])])])])])})),a("div",{staticClass:"plr-10 mb-10 fz-14 c3 text-right"},[t._v("共"+t._s(e.product_quantity)+"件商品 合计"),a("span",{staticClass:"text-price"},[t._v("¥"+t._s(e.pay_price))])]),a("div",{staticClass:"bar-1"}),a("div",{staticClass:"flex flex-end p-10"},[0==e.status?a("div",{staticClass:"btn-youya-o",attrs:{"data-index":s,"data-id":e.id},on:{click:t.cancel}},[t._v("取消订单")]):t._e(),a("router-link",{attrs:{to:{name:"order_detail",query:{id:e.id}}}},[1==e.status||2==e.status?a("div",{staticClass:"btn-youya-o"},[t._v("申请退款")]):t._e()]),a("router-link",{attrs:{to:{name:"order_detail",query:{id:e.id}}}},[0==e.status?a("div",{staticClass:"btn-youya"},[t._v("去付款")]):t._e()]),2==e.status?a("div",{staticClass:"btn-youya",on:{click:t.complete}},[t._v("确认收货")]):t._e()],1)],2)})),0)])],1)},i=[],n=a("75fc"),r=(a("96cf"),a("3b8d")),c={components:{},props:{},data:function(){return{active:0,list:[],loading:!1,finished:!1,page:1}},watch:{active:function(t,e){t!=e&&(this.page=1,this.loading=!1,this.finished=!1,this.list=[])}},computed:{},methods:{complete:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dialog.confirm({title:"提示",message:"是否要确认收货？"}).then((function(){return!0})).catch((function(){return!1}));case 2:if(a=t.sent,a){t.next=5;break}return t.abrupt("return");case 5:return this.$toast.loading({message:"确认收货中..."}),t.next=8,axios.post("/user/mall-order/complete",{id:e.target.dataset.id});case 8:s=t.sent,i=s.code,s.data,n=s.messege,0==i?this.$toast.success("确认收货成功"):this.$toast.fail(n);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),cancel:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dialog.confirm({title:"提示",message:"是否要取消订单？"}).then((function(){return!0})).catch((function(){return!1}));case 2:if(a=t.sent,a){t.next=5;break}return t.abrupt("return");case 5:return this.$toast.loading({message:"取消中..."}),t.next=8,axios.post("/user/mall-order/cancel",{id:e.target.dataset.id});case 8:s=t.sent,i=s.code,s.data,n=s.messege,0==i?(this.$toast.success("取消成功"),this.list[e.target.dataset.index].status=5):this.$toast.fail(n);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$toast.loading({message:"加载中..."}),!(this.active-1>=0)){t.next=10;break}return t.next=4,axios.get("/user/mall-order/list?page=".concat(this.page++,"&status=").concat(this.active-1));case 4:e=t.sent,a=e.code,s=e.data,i=e.messege,t.next=16;break;case 10:return t.next=12,axios.get("/user/mall-order/list?page=".concat(this.page++));case 12:r=t.sent,a=r.code,s=r.data,i=r.messege;case 16:0==a?(this.$toast.clear(),this.list=[].concat(Object(n["a"])(this.list),Object(n["a"])(s.data)),this.loading=!1,s.current_page==s.last_page&&(this.finished=!0)):this.$toast.fail(i);case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){},mounted:function(){}},o=c,u=(a("7285"),a("2877")),l=Object(u["a"])(o,s,i,!1,null,"70ed993a",null);e["default"]=l.exports},"549b":function(t,e,a){"use strict";var s=a("d864"),i=a("63b6"),n=a("241e"),r=a("b0dc"),c=a("3702"),o=a("b447"),u=a("20fd"),l=a("7cd6");i(i.S+i.F*!a("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,a,i,d,f=n(t),v="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,b=void 0!==h,g=0,x=l(f);if(b&&(h=s(h,p>2?arguments[2]:void 0,2)),void 0==x||v==Array&&c(x))for(e=o(f.length),a=new v(e);e>g;g++)u(a,g,b?h(f[g],g):f[g]);else for(d=x.call(f),a=new v;!(i=d.next()).done;g++)u(a,g,b?r(d,h,[i.value,g],!0):i.value);return a.length=g,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},7285:function(t,e,a){"use strict";var s=a("e35b"),i=a.n(s);i.a},"75fc":function(t,e,a){"use strict";var s=a("a745"),i=a.n(s);function n(t){if(i()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var r=a("774e"),c=a.n(r),o=a("c8bb"),u=a.n(o);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return n(t)||l(t)||d()}a.d(e,"a",(function(){return f}))},"774e":function(t,e,a){t.exports=a("d2d5")},9003:function(t,e,a){var s=a("6b4c");t.exports=Array.isArray||function(t){return"Array"==s(t)}},"95d5":function(t,e,a){var s=a("40c3"),i=a("5168")("iterator"),n=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||n.hasOwnProperty(s(e))}},a745:function(t,e,a){t.exports=a("f410")},c8bb:function(t,e,a){t.exports=a("54a1")},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},e35b:function(t,e,a){},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-72fdc12b.0d190474.js.map