(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ef8fab5"],{8388:function(t,e,s){"use strict";var a=s("ee64"),i=s.n(a);i.a},9198:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"cell-group"},t._l(t.list,(function(e,a){return s("div",{key:a,staticClass:"cell",on:{click:function(e){t.active=a}}},[s("div",{staticClass:"flex flex-align-center"},[s("div",{staticClass:"checked",class:t.active==a?"on":""}),s("div",[s("div",{staticClass:"fz-14 c3 mb-10"},[t._v(t._s(e.upgrade_role_name))]),s("div",{staticClass:"fz-12 c9"},[t._v("原价￥398.00")])])]),s("div",[s("div",{staticClass:"fz-14 text-price mb-10"},[t._v("￥"+t._s(e.price))]),s("div",{staticClass:"fz-12 c9"},[t._v("还需补差价")])])])})),0),s("div",{staticClass:"footer-bar"},[s("div",{staticClass:"youya-btn",on:{click:t.confim}},[t._v("确定升级")])]),s("van-popup",{attrs:{round:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{staticClass:"xieyi-box"},[s("div",{staticClass:"title"},[t._v("购买协议")]),s("div",{staticClass:"content-box"},[s("div",{staticClass:"mb-10 fz-15 c6"},[t._v("在您购买香港皇家优雅女子学堂直播过程过程中，您需要完成我们的注册流程并通过点击同意的的形式在线签署以下协议，请您务必仔细阅读、充分理解协议中的条款内后再点击同意（尤其以粗体并下划线标识的条款，因为这些条款可能会明确您）点击同意即表示您已阅读同意《爆款公社用户注册协议》和《爆款公社隐私政策》在您购买香港皇家优雅女子学堂直播过程过程中，您需要完成我们的注册流程并通过点击同意的的形式在线签署以下协议，请您务必仔细阅读、充分理解协议中的条款内后再点击同意（尤其以粗体并下划线标识的条款，因为这些条款可能会明确您）点击同意即表示您已阅读同意《爆款公社用户注册协议》和《爆款公社隐私政策》在您购买香港皇家优雅女子学堂直播过程过程中，您需要完成我们的注册流程并通过点击同意的的形式在线签署以下协议，请您务必仔细阅读、充分理解协议中的条款内后再点击同意（尤其以粗体并下划线标识的条款，因为这些条款可能会明确您）点击同意即表示您已阅读同意《爆款公社用户注册协议》和《爆款公社隐私政策》在您购买香港皇家优雅女子学堂直播过程过程中，您需要完成我们的注册流程并通过点击同意的的形式在线签署以下协议，请您务必仔细阅读、充分理解协议中的条款内后再点击同意（尤其以粗体并下划线标识的条款，因为这些条款可能会明确您）点击同意即表示您已阅读同意《爆款公社用户注册协议》和《爆款公社隐私政策》")]),s("div",{staticClass:"flex flex-align-center"},[s("div",{staticClass:"checked",class:t.flag?"on":"",on:{click:function(e){t.flag=!t.flag}}}),s("div",{staticClass:"fz-14 c9"},[t._v("\n            同意并阅读\n            "),s("span",{staticClass:"text-primary"},[t._v("《购买协议》")])])])]),s("div",{staticClass:"btns"},[s("div",{staticClass:"btn-o"},[t._v("取消")]),s("div",{staticClass:"btn",class:t.flag?"":"disable",on:{click:t.confirmXY}},[t._v("确定")])])])])],1)},i=[],n=(s("b449"),s("17d6")),r=s("00ca"),c=s.n(r),o={data:function(){return{flag:!1,active:0,show:!1,list:[]}},created:function(){this.getList()},methods:{confim:function(){1==this.list[this.active].protocol_show?this.show=!0:this.createOrder()},confirmXY:function(){this.flag?this.createOrder():this.$toast("请阅读协议并同意协议")},createOrder:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.post("/user/upgrade/order",{upgrade_id:this.list[this.active].id});case 2:e=t.sent,s=e.code,a=e.data,i=e.message,0==s?this.payTest(a.id):window.console.error(i);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),pay:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,a,i,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.get("/user/upgrade/order-pay?order_id="+e);case 2:s=t.sent,a=s.data,i=s.code,n=s.message,0==i?c.a.chooseWXPay({timestamp:a.timeStamp,nonceStr:a.nonceStr,package:a.package,signType:a.signType,paySign:a.paySign,success:function(t){r.$toast.success("升级成功"),setTimeout((function(){r.$router.back()}),1500)},fail:function(t){r.$toast.fail("支付失败")}}):this.$toast.fail(n);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),payTest:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,a,i,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.post("/user/upgrade/order-payed",{order_id:e});case 2:s=t.sent,a=s.code,i=s.data,n=s.message,0==a?(window.console.log(i),this.$toast.success("升级成功"),setTimeout((function(){r.$router.back()}),1500)):window.console.error(n);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.get("/user/upgrade/service");case 2:e=t.sent,s=e.code,a=e.data,i=e.message,0==s?this.list=a:window.console.log(i);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},u=o,l=(s("8388"),s("e90a")),d=Object(l["a"])(u,a,i,!1,null,"3da5c128",null);e["default"]=d.exports},ee64:function(t,e,s){}}]);
//# sourceMappingURL=chunk-2ef8fab5.43d7519f.js.map