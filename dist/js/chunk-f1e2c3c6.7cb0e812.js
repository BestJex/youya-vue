(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1e2c3c6"],{"02f4":function(t,e,r){var n=r("4588"),a=r("be13");t.exports=function(t){return function(e,r){var i,s,o=String(a(e)),c=n(r),u=o.length;return c<0||c>=u?t?"":void 0:(i=o.charCodeAt(c),i<55296||i>56319||c+1===u||(s=o.charCodeAt(c+1))<56320||s>57343?t?o.charAt(c):i:t?o.slice(c,c+2):s-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,r){"use strict";var n=r("02f4")(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},"0bfb":function(t,e,r){"use strict";var n=r("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,r){"use strict";r("b0c5");var n=r("2aba"),a=r("32e9"),i=r("79e5"),s=r("be13"),o=r("2b4c"),c=r("520a"),u=o("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var f=o(t),p=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),v=p?!i((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[u]=function(){return r}),r[f](""),!e})):void 0;if(!p||!v||"replace"===t&&!l||"split"===t&&!d){var g=/./[f],h=r(s,f,""[t],(function(t,e,r,n,a){return e.exec===c?p&&!a?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),x=h[0],m=h[1];n(String.prototype,t,x),a(RegExp.prototype,f,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},"35ca":function(t,e,r){"use strict";var n=r("e653"),a=r.n(n);a.a},"520a":function(t,e,r){"use strict";var n=r("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,s=a,o="lastIndex",c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[o]||0!==e[o]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(s=function(t){var e,r,s,l,d=this;return u&&(r=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),c&&(e=d[o]),s=a.call(d,t),c&&s&&(d[o]=d.global?s.index+s[0].length:e),u&&s&&s.length>1&&i.call(s[0],r,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s}),t.exports=s},"5f1b":function(t,e,r){"use strict";var n=r("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var i=r.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},a481:function(t,e,r){"use strict";var n=r("cb7c"),a=r("4bf8"),i=r("9def"),s=r("4588"),o=r("0390"),c=r("5f1b"),u=Math.max,l=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};r("214f")("replace",2,(function(t,e,r,g){return[function(n,a){var i=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,i,a):r.call(String(i),n,a)},function(t,e){var a=g(r,t,this,e);if(a.done)return a.value;var d=n(t),f=String(this),p="function"===typeof e;p||(e=String(e));var x=d.global;if(x){var m=d.unicode;d.lastIndex=0}var y=[];while(1){var b=c(d,f);if(null===b)break;if(y.push(b),!x)break;var _=String(b[0]);""===_&&(d.lastIndex=o(f,i(d.lastIndex),m))}for(var w="",$=0,k=0;k<y.length;k++){b=y[k];for(var S=String(b[0]),C=u(l(s(b.index),f.length),0),R=[],q=1;q<b.length;q++)R.push(v(b[q]));var E=b.groups;if(p){var j=[S].concat(R,C,f);void 0!==E&&j.push(E);var O=String(e.apply(void 0,j))}else O=h(S,f,C,R,E,e);C>=$&&(w+=f.slice($,C)+O,$=C+S.length)}return w+f.slice($)}];function h(t,e,n,i,s,o){var c=n+t.length,u=i.length,l=p;return void 0!==s&&(s=a(s),l=f),r.call(o,l,(function(r,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":o=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return r;if(l>u){var f=d(l/10);return 0===f?r:f<=u?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):r}o=i[l-1]}return void 0===o?"":o}))}}))},b0c5:function(t,e,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},e3a5:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[2==t.type?r("div",[r("div",{staticClass:"address"},[t._e(),r("img",{attrs:{src:"img/icon-dingwei.png",alt:""}}),t._m(0),r("van-icon",{attrs:{name:"arrow",size:"15px",color:"#999"}})],1),r("div",{staticClass:"bar-10"})]):t._e(),r("div",{staticClass:"goods-item"},[r("img",{attrs:{src:t.goods.image,alt:""}}),r("div",{staticClass:"ml-10 flex flex-column flex-jus",staticStyle:{flex:"1"}},[r("div",{staticClass:"fz-15 c3"},[t._v(t._s(t.goods.title))]),r("div",{staticClass:"flex flex-jus flex-align-end"},[r("div",{staticClass:"fz-15 c3"},[t._v("¥"+t._s(t.goods.price))]),r("van-stepper",{attrs:{integer:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1)])]),r("van-cell",{attrs:{border:!1,title:"留言"}}),r("div",{staticClass:"plr-10"},[r("van-field",{attrs:{placeholder:"给卖家留言～～"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),r("div",{staticClass:"footer-bar"},[r("div",[r("span",{staticClass:"fz-15 c9"},[t._v("合计：")]),r("span",{staticClass:"fz-15 text-price"},[t._v("￥"+t._s(t.quantity*t.goods.price))])]),r("div",{staticClass:"btn-youya",on:{click:t.submit}},[t._v("提交订单")])])],1)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"fz-15 ml-10",staticStyle:{width:"80%"}},[r("div",[t._v("熊娟 13445677888")]),r("div",{staticClass:"text-hide"},[t._v("中国浙江省宁波市江北区市民路98号4楼区市民路98号4楼")])])}],i=(r("a481"),r("96cf"),r("3b8d")),s=r("18a0"),o=r.n(s),c={components:{},props:{},data:function(){return{value:1,message:"",type:"",goods_id:"",quantity:"",goods:{},order_id:""}},watch:{},computed:{},methods:{getGoods:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$toast.loading({message:"加载中..."}),t.next=3,axios.get("/mall/detail?id=".concat(this.goods_id));case 3:e=t.sent,r=e.code,n=e.data,a=e.message,0==r?(this.$toast.clear(),this.goods=n):this.$toast.fail(a);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],e.push({goods_id:this.goods_id,quantity:this.quantity}),this.$toast.loading({message:"提交中..."}),t.next=5,axios.post("/user/mall-order",{type:this.type,goods:JSON.stringify(e)});case 5:r=t.sent,n=r.code,a=r.data,i=r.message,0==n?(this.$toast.clear(),console.log(a),this.order_id=a.id,this.pay(a.id)):this.$toast.fail(i);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),payed:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$toast.loading({message:"支付中..."}),t.next=3,axios.post("/user/mall-order/payed",{order_id:e});case 3:r=t.sent,n=r.code,a=r.data,i=r.message,0==n?(this.$toast.clear(),console.log(a),this.$router.push({name:"goods_pay_feedback",query:{order_id:this.order_id}})):this.$toast.fail(i);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),pay:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/user/course-order/pay?order_id="+e);case 2:r=t.sent,n=r.data,a=r.code,r.message,0==a&&o.a.chooseWXPay({timestamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:n.signType,paySign:n.paySign,success:function(t){i.$toast.success("支付成功"),i.$router.replace("/feedback")},fail:function(t){i.$toast.fail("支付失败")}});case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.type=this.$route.query.type,this.goods_id=this.$route.query.goods_id,this.quantity=this.$route.query.quantity,this.getGoods()},mounted:function(){}},u=c,l=(r("35ca"),r("2877")),d=Object(l["a"])(u,n,a,!1,null,"bc5205cc",null);e["default"]=d.exports},e653:function(t,e,r){}}]);
//# sourceMappingURL=chunk-f1e2c3c6.7cb0e812.js.map